const STUDENT_PIN="2361",TEACHER_PIN="9996";function show(id){document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));const el=document.getElementById(id);if(el)el.classList.add("active");}window.popStar=function(x=null,y=null){const d=document.createElement("div");d.textContent="⭐";Object.assign(d.style,{position:"fixed",left:(x?x+"px":(5+Math.random()*90)+"%"),top:(y?y+"px":(10+Math.random()*80)+"%"),fontSize:(26+Math.random()*18)+"px",animation:"flyStar 1s ease-out forwards",zIndex:9999});document.body.appendChild(d);setTimeout(()=>d.remove(),1000)};document.addEventListener("DOMContentLoaded",()=>{const btn=document.getElementById("loginBtn");if(btn){btn.addEventListener("click",()=>{const name=document.getElementById("nameInput").value.trim();const pin=document.getElementById("pinInput").value.trim();if(!name||!pin){alert("Please enter your name and PIN code.");return;}if(pin===STUDENT_PIN||pin===TEACHER_PIN){localStorage.setItem("studentName",name||"Guest");show("menu");}else{alert("❌ Wrong PIN. Try again.");}});}document.querySelectorAll("#menu [data-target]").forEach(b=>{b.addEventListener("click",()=>{const t=b.getAttribute("data-target");show(t);if(t==="olimp"&&typeof window.initGrammarOlymp==="function")window.initGrammarOlymp();if(t==="vocab"&&typeof window.initVocabOlymp==="function")window.initVocabOlymp();if(t==="listening"&&typeof window.initListeningOlymp==="function")window.initListeningOlymp();if(t==="reading"&&typeof window.initReadingOlymp==="function")window.initReadingOlymp();if(t==="speaking"&&typeof window.initSpeakingOlymp==="function")window.initSpeakingOlymp();});});});